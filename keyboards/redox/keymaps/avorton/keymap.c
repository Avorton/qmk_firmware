#include QMK_KEYBOARD_H

#include "keymap.h"

//    ^              ^            The keymap has been design to work with the optimized AZERTY from AFNOR OS Layout
//  / ! \  WARNING / ! \          If not set on your OS a lot of features will not work at all or as they should.
//  ¯¯¯¯¯          ¯¯¯¯¯          Check out at <https://norme-azerty.fr/#setup>


const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

  [_BASE] = LAYOUT(
//  ┌────────┬────────┬────────┬────────┬────────┬────────┐                                           ┌────────┬────────┬────────┬────────┬────────┬────────┐
     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,                                            XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,
//  ├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     XXXXXXX ,KC_K    ,FR_M    ,AGR_R   ,KC_D    ,KC_B    ,XXXXXXX ,                          XXXXXXX ,KC_Y    ,KC_U    ,AGR_O    ,KC_QU   ,FR_Z    ,XXXXXXX ,
//  ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     KC_K    ,KC_P    ,WIND_T  ,ALT_N   ,CTRL_S  ,KC_G    ,XXXXXXX ,                          XXXXXXX ,COMA    ,CTRL_I  ,ALT_E   ,GUI_A   ,KC_H    ,FR_Z    ,
//  ├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┐       ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     XXXXXXX ,FR_W    ,KC_F    ,KC_L    ,KC_C    ,KC_V    ,XXXXXXX ,XXXXXXX ,        XXXXXXX ,XXXXXXX ,KC_J    ,DOT     ,APO_ACC ,EACC    ,KC_X    ,XXXXXXX ,
//  ├────────┼────────┼────────┼────────┼────┬───┴────┬───┼────────┼────────┤       ├────────┼────────┼───┬────┴───┬────┼────────┼────────┼────────┼────────┤
     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,     TAB_NAV ,    BSPC_SFT,DEL_NUM ,        ENT_SYMB,SPC_SFT ,    ESC_FN  ,     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX
//  └────────┴────────┴────────┴────────┘    └────────┘   └────────┴────────┘       └────────┴────────┘   └────────┘    └────────┴────────┴────────┴────────┘
  ),

  [_NUM] = LAYOUT(

//  ┌────────┬────────┬────────┬────────┬────────┬────────┐                                           ┌────────┬────────┬────────┬────────┬────────┬────────┐
     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,                                            XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,
//  ├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     XXXXXXX ,_______ ,_______ ,A_SUB   ,A_HYP   ,_______ ,XXXXXXX ,                          XXXXXXX ,_______ ,KC_P7   ,AGR_8   ,KC_P9   ,_______ ,XXXXXXX ,
//  ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ ,KC_PPLS ,GUI_AST ,ALT_MNS ,CTRL_SLH,A_EQL   ,XXXXXXX ,                          XXXXXXX ,_______ ,CTRL_4  ,ALT_5   ,GUI_6   ,_______ ,_______ ,
//  ├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┐       ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     XXXXXXX ,_______ ,_______ ,_______ ,_______ ,_______ ,XXXXXXX ,XXXXXXX ,        XXXXXXX ,XXXXXXX ,_______ ,KC_P1   ,KC_P2   ,KC_P3   ,_______ ,XXXXXXX ,
//  ├────────┼────────┼────────┼────────┼────┬───┴────┬───┼────────┼────────┤       ├────────┼────────┼───┬────┴───┬────┼────────┼────────┼────────┼────────┤
     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,     _______ ,    _______ ,_______ ,        _______ ,_______ ,    _______ ,     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX
//  └────────┴────────┴────────┴────────┘    └────────┘   └────────┴────────┘       └────────┴────────┘   └────────┘    └────────┴────────┴────────┴────────┘
  ),

  [_SYMB] = LAYOUT(

//  ┌────────┬────────┬────────┬────────┬────────┬────────┐                                           ┌────────┬────────┬────────┬────────┬────────┬────────┐
     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,                                            XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,
//  ├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     XXXXXXX ,_______ ,A_LCBR  ,A_RCBR  ,A_DOLR  ,_______ ,XXXXXXX ,                          XXXXXXX ,_______ ,A_LBRK  ,A_RBRK  ,A_PIPE  ,_______ ,XXXXXXX ,
//  ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ ,KC_PPLS ,GUI_AST ,ALT_MNS ,CTRL_SLH,A_EQL   ,XXXXXXX ,                          XXXXXXX ,_______ ,KC_5    ,KC_6    ,A_AMP   ,KC_TILD ,_______ ,
//  ├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┐       ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     XXXXXXX ,_______ ,A_LABK  ,A_RABK  ,A_BSLH  ,_______ ,XXXXXXX ,XXXXXXX ,        XXXXXXX ,XXXXXXX ,_______ ,_______ ,_______ ,A_PCNT  ,_______ ,XXXXXXX ,
//  ├────────┼────────┼────────┼────────┼────┬───┴────┬───┼────────┼────────┤       ├────────┼────────┼───┬────┴───┬────┼────────┼────────┼────────┼────────┤
     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,     _______ ,    _______ ,_______ ,        _______ ,_______ ,    _______ ,     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX
//  └────────┴────────┴────────┴────────┘    └────────┘   └────────┴────────┘       └────────┴────────┘   └────────┘    └────────┴────────┴────────┴────────┘
  ),

/*       x   {   }   $  x         x    [     ]   |   x
      x  +   *   -   /  =        ,;!   (     )   &   #  x
         x   <   >   \  x         x  .:?@  '"-^  %   x
                  x  x  x         x  _  x
*/

  [_FN] = LAYOUT(

//  ┌────────┬────────┬────────┬────────┬────────┬────────┐                                           ┌────────┬────────┬────────┬────────┬────────┬────────┐
     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,                                            XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,
//  ├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     XXXXXXX ,_______ ,CALC    ,UNDO_REDO,ACVX   ,_______ ,XXXXXXX ,                          XXXXXXX ,_______ ,KC_F7   ,AGR_F8   ,KC_F9   ,XXXXXXX ,XXXXXXX ,
//  ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ ,_______ ,GUI_PRV ,ALT_PLY ,CTRL_NXT,_______ ,XXXXXXX ,                          XXXXXXX ,KC_PSCR ,CTRL_F4 ,ALT_F5  ,GUI_F6  ,KC_F10  ,KC_F12  ,
//  ├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┐       ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     XXXXXXX ,_______ ,KC_MUTE ,KC_VOLD ,KC_VOLU ,_______ ,XXXXXXX ,XXXXXXX ,        XXXXXXX ,XXXXXXX ,_______ ,KC_F1   ,KC_F2   ,KC_F3   ,KC_F11  ,XXXXXXX ,
//  ├────────┼────────┼────────┼────────┼────┬───┴────┬───┼────────┼────────┤       ├────────┼────────┼───┬────┴───┬────┼────────┼────────┼────────┼────────┤
     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,     _______ ,    _______ ,_______ ,        _______ ,_______ ,    _______ ,     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX
//  └────────┴────────┴────────┴────────┘    └────────┘   └────────┴────────┘       └────────┴────────┘   └────────┘    └────────┴────────┴────────┴────────┘
  ),

  [_NAV] = LAYOUT(
//  ┌────────┬────────┬────────┬────────┬────────┬────────┐                                           ┌────────┬────────┬────────┬────────┬────────┬────────┐
     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,                                            XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,
//  ├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     XXXXXXX ,_______ ,_______ ,AGR_PGUP,KC_WH_U ,_______ ,XXXXXXX ,                          XXXXXXX ,_______ ,_______ ,KC_UP   ,_______ ,_______ ,XXXXXXX ,
//  ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     _______ ,_______ ,GUI_HOME,ALT_PGDN,CTRL_END,_______ ,XXXXXXX ,                          XXXXXXX ,_______ ,KC_LEFT ,KC_DOWN ,KC_RIGHT,RESET   ,_______ ,
//  ├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┐       ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
     XXXXXXX ,_______ ,_______ ,_______ ,KC_WH_D ,_______ ,XXXXXXX ,XXXXXXX ,        XXXXXXX ,XXXXXXX ,_______ ,_______ ,_______ ,_______ ,_______ ,XXXXXXX ,
//  ├────────┼────────┼────────┼────────┼────┬───┴────┬───┼────────┼────────┤       ├────────┼────────┼───┬────┴───┬────┼────────┼────────┼────────┼────────┤
     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,     _______ ,    _______ ,_______ ,        _______ ,_______ ,    _______ ,     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX
//  └────────┴────────┴────────┴────────┘    └────────┘   └────────┴────────┘       └────────┴────────┘   └────────┘    └────────┴────────┴────────┴────────┘
   ),
};

layer_state_t layer_state_set_user(layer_state_t state) {
    switch (get_highest_layer(state)) {
    case _BASE:
        rgblight_setrgb (0x33,  0xFF, 0x66);   // green
        break;
    case _NUM:
        rgblight_setrgb (0x00,  0x78, 0xFF);   // blue
        break;
    case _SYMB:
        rgblight_setrgb (0x99,  0x33, 0xFF);   // purple
        break;
    case _NAV:
        rgblight_setrgb (0xF0,  0xD5, 0x27);   // yellow
        break;
    case _FN:
        rgblight_setrgb (0xFF,  0x16, 0x16);   // red
        break;
   default: //  for any other layers, or the default layer
        rgblight_setrgb (0x33,  0xFF, 0x66);
        break;
    }
  return state;
};
